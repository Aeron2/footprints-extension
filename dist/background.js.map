{"version":3,"file":"background.js","mappings":";;;;;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack://footprints-extension/./src/background/background.js"],"sourcesContent":["chrome.runtime.onMessage.addListener((request, sender, sendResponse) => {\r\n  console.log(request, sender, sendResponse);\r\n});\r\n\r\nchrome.runtime.onInstalled.addListener(() => {\r\n  chrome.contextMenus.create({\r\n    id: \"saveWebpage\",\r\n    title: \"Footprint webpage!\",\r\n    contexts: [\"all\"],\r\n  });\r\n\r\n  chrome.contextMenus.create({\r\n    id: \"saveScreenshot\",\r\n    title: \"Footprint screenshot!\",\r\n    contexts: [\"all\"],\r\n  });\r\n});\r\n\r\nchrome.contextMenus.onClicked.addListener((info, tab) => {\r\n  if (info.menuItemId === \"saveWebpage\") {\r\n    console.log(info, tab);\r\n    chrome.tabs.query({ active: true, currentWindow: true }, (tabs) => {\r\n      // chrome.tabs.sendMessage(tabs[0].id, { message: \"save_webpage\" });\r\n      console.log(tabs);\r\n    });\r\n  } else if (info.menuItemId === \"saveScreenshot\") {\r\n    chrome.tabs.captureVisibleTab(null, { format: \"png\" }, (dataUrl) => {\r\n      if (chrome.runtime.lastError) {\r\n        console.error(chrome.runtime.lastError);\r\n        return;\r\n      }\r\n\r\n      chrome.tabs.query({ active: true, currentWindow: true }, (tabs) => {\r\n        chrome.tabs.sendMessage(tabs[0].id, {\r\n          message: \"save_screenshot\",\r\n          data: dataUrl,\r\n        });\r\n      });\r\n    });\r\n  }\r\n});\r\n"],"names":[],"sourceRoot":""}